<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMC</title>
</head>
<body>
    <form onsubmit="return Calcular();" id="form" class="form" style="width: 500px; margin: 30px auto;">
        <fieldset>
            <legend>Calculadora de IMC</legend>   
            <label for="nome">Digite seu Nome: </label>
            <input type="text" name="nome" id="nome"><br/><br/>
            
            <label for="idade">Digite sua Idade: </label>
            <input type="number" name="idade" id="idade"><br/><br/>

            <label for="sexo"> Digite o Sexo:
            <input type="radio" name="sexo" value="masculino"/>Masculino
            <input type="radio" name="sexo" value="feminino"/> Feminino <br/><br />

            <label for="peso">Digite seu Peso: </label>
            <input type="text" name="peso" id="peso"><br/><br/>

            <label for="altura">Digite sua Altura: </label>
            <input type="text" name="altura" id="altura"><br/><br/>

            <button>Calcular IMC</button>
        </fieldset>
    </form>

    <table border="1" style=" margin: 0px auto;">
        <tr>
            <th>IMC</th>
            <th>Classificação</th>
        </tr>
        <tr>
            <td>Abaixo de 18,5</td>
            <td>Abaixo do Peso.</td>
        </tr>
        <tr>
            <td>Entre de 18,6 e 24,9</td>
            <td>Peso Ideal</td>
        </tr>
        <tr>
            <td>Entre de 25,0 e 29,9</td>
            <td>Sobrepeso</td>
        </tr>
        <tr>
            <td>Entre de 30,0 e 34,9</td>
            <td>Obesidade</td>
        </tr>
        <tr>
            <td>Entre de 35,0 e 39,9</td>
            <td>Obesidade Severa</td>
        </tr>
        <tr>
            <td>Acima de 40</td>
            <td>Obesidade Mórbida</td>
        </tr>
    </table>

    <section id="info" style="width:500px; margin: 30px auto;">
        <div id="dados"></div>
    </section>

    <script>
        function Calcular(){
            
            var nome = document.getElementById("nome").value;
            var idade = document.getElementById("idade").value;
            var sexo = document.querySelector('input[type=radio][name=sexo]:checked').value;
            var peso = document.getElementById("peso").value;
            var altura = document.getElementById("altura").value;

            imc(nome,idade,sexo,peso,altura); // Chama a função que calcula o imc
            imprimirDados(nome, idade, sexo, peso, altura); // Chama a função que imprime os dados

            return false; //preventDefault();
        }

        function imc(nome, idade, sexo, peso, altura){
            let  IMC = peso / (altura * altura);
        
            if(IMC < 18.5){
                alert(nome+" Seu IMC é: "+ IMC.toFixed(2) +"\nVocê esta Abaixo do Peso Ideal.");
                console.log(nome+" Seu IMC é: "+ IMC.toFixed(2) +"\nVocê esta Abaixo do Peso Ideal.");
            }else if(IMC >= 18.5 && IMC < 25 ){
                alert(nome+" Seu IMC é: "+ IMC.toFixed(2) +"\nVocê esta com Peso Ideal.");
                console.log(nome+" Seu IMC é: "+ IMC.toFixed(2) +"\nVocê esta com Peso Ideal.");
            }else if(IMC >= 25 && IMC < 30 ){
                alert(nome+" Seu IMC é: "+ IMC.toFixed(2) +"\nVocê esta Com Sobrepeso.");
                console.log(nome+" Seu IMC é: "+ IMC.toFixed(2) +"\nVocê esta Com Sobrepeso.");
            }else if(IMC >= 30 && IMC < 35 ){
                alert(nome+" Seu IMC é: "+ IMC.toFixed(2) +"\nVocê esta com Obesidade.");
                console.log(nome+" Seu IMC é: "+ IMC.toFixed(2) +"\nVocê esta com Obesidade.");
            }else if(IMC >= 35 && IMC < 40 ){
                alert(nome+" Seu IMC é: "+ IMC.toFixed(2) +"\nVocê esta com Obesidade Severa.");
                console.log(nome+" Seu IMC é: "+ IMC.toFixed(2) +"\nVocê esta com Obesidade Severa.");
            }else{
                alert(nome+" Seu IMC é: "+ IMC.toFixed(2) +"\nVocê esta com Obesidade Mórbida.");
                console.log(nome+" Seu IMC é: "+ IMC.toFixed(2) +"\nVocê esta com Obesidade Mórbida.");
            }

        }

        function imprimirDados(nome, idade, sexo, peso, altura){
            document.getElementById("dados").innerHTML = "Entrou"; 
            let texto = "<br><h1>Dados da Pessoa</h1>";
            texto += "<br>Nome: " + nome;
            texto += "<br>Idade: " + idade;
            texto += "<br>Sexo: " + sexo;
            texto += "<br>Peso: " + peso;
            texto += "<br>Altura: " + altura;
            texto += "<br>IMC: " + (peso/(altura*altura)).toFixed(2);
            document.getElementById("dados").innerHTML = texto;
        }
    </script>
    
</body>
</html>